#pragma once

#include "windef.h"
#include "../types.h"

namespace Teardown { namespace Internal {
	struct Window {
		struct Info {
			HDC m_hDC;
			HGLRC m_hGLRC;
			HWND m_hWnd;
			HINSTANCE m_hInstance;
			bool m_IsActive;
			bool m_IsFullscreen;
			bool m_QuitRequested;
			bool m_HasCapture;
			Vector2_u32 m_MousePosition;
		};

		Vector2_u32 m_Size;
		Info* m_Info;

		inline static function_signature<bool(__fastcall*)(Window* ptr)> IsActive = { "\x40\x53\x48\x83\xEC\x20\x48\x8B\xD9\xFF\x15\x2A\x2A\x2A\x2A\x48\x8B\x4B\x08\x48\x3B\x41\x10\x0F\x94\xC0\x48\x83\xC4\x20\x5B\xC3" };
		inline static function_signature<bool(__fastcall*)(Window* ptr, bool capture)> SetCapture = { "\x48\x83\xEC\x28\x48\x8B\x41\x08\x38\x50\x23\x74\x3B\x88\x50\x23\x84\xD2\x74\x1E\x33\xC9\xFF\x15\x2A\x2A\x2A\x2A\x48\x8B\x0D\x2A\x2A\x2A\x2A\x48\x8B\x49\x10\x48\x83\xC4\x28\x48\xFF\x25\x2A\x2A\x2A\x2A\xB9\x2A\x2A\x2A\x2A\xFF\x15\x2A\x2A\x2A\x2A\x48\x83\xC4\x28\x48\xFF\x25\x2A\x2A\x2A\x2A\x48\x83\xC4\x28\xC3" };
	};
} }